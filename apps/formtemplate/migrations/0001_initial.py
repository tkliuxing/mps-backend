# Generated by Django 3.2.10 on 2021-12-24 12:05

import os
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone
import utility.db_fields


class Migration(migrations.Migration):

    initial = True

    dependencies = [
    ]

    operations = [
        migrations.RunSQL(
            sql=open(os.path.join(os.path.dirname(os.path.abspath(__file__)), 'create_formdata.sql'), 'r', encoding='UTF8').read()
        ),
        migrations.CreateModel(
            name='FormData',
            fields=[
                ('id', utility.db_fields.TableNamePKField(blank=True, default=None, editable=False, max_length=64, primary_key=True, serialize=False)),
                ('sys_id', models.IntegerField(db_index=True, default=1, verbose_name='系统ID')),
                ('org_id', models.IntegerField(db_index=True, default=1, verbose_name='组织ID')),
                ('src_id', models.IntegerField(db_index=True, default=0, verbose_name='分区ID')),
                ('biz_id', models.IntegerField(db_index=True, default=1, verbose_name='业务ID')),
                ('wx_open_id', models.CharField(blank=True, db_index=True, help_text='WEIXIN OPEN ID', max_length=255, null=True, verbose_name='WEIXIN OPEN ID')),
                ('create_time', models.DateTimeField(default=django.utils.timezone.now, help_text='创建时间')),
                ('longitude', models.FloatField(blank=True, db_index=True, help_text='经度 idx', null=True, verbose_name='经度')),
                ('latitude', models.FloatField(blank=True, db_index=True, help_text='纬度 idx', null=True, verbose_name='纬度')),
                ('altitude', models.FloatField(blank=True, db_index=True, help_text='海拔 idx', null=True, verbose_name='海拔')),
                ('field_01', models.CharField(blank=True, db_index=True, help_text='idx', max_length=1023, null=True, verbose_name='Field 01')),
                ('field_02', models.CharField(blank=True, db_index=True, help_text='idx', max_length=1023, null=True, verbose_name='Field 02')),
                ('field_03', models.CharField(blank=True, db_index=True, help_text='idx', max_length=1023, null=True, verbose_name='Field 03')),
                ('field_04', models.CharField(blank=True, db_index=True, help_text='idx', max_length=1023, null=True, verbose_name='Field 04')),
                ('field_05', models.CharField(blank=True, db_index=True, help_text='idx', max_length=1023, null=True, verbose_name='Field 05')),
                ('field_06', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 06')),
                ('field_07', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 07')),
                ('field_08', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 08')),
                ('field_09', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 09')),
                ('field_10', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 10')),
                ('field_11', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 11')),
                ('field_12', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 12')),
                ('field_13', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 13')),
                ('field_14', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 14')),
                ('field_15', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 15')),
                ('field_16', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 16')),
                ('field_17', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 17')),
                ('field_18', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 18')),
                ('field_19', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 19')),
                ('field_20', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 20')),
                ('field_21', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 21')),
                ('field_22', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 22')),
                ('field_23', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 23')),
                ('field_24', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 24')),
                ('field_25', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 25')),
                ('field_26', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 26')),
                ('field_27', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 27')),
                ('field_28', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 28')),
                ('field_29', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 29')),
                ('field_30', models.CharField(blank=True, max_length=1023, null=True, verbose_name='Field 30')),
                ('date_01', models.DateField(blank=True, db_index=True, help_text='idx', null=True, verbose_name='Date 01')),
                ('date_02', models.DateField(blank=True, db_index=True, help_text='idx', null=True, verbose_name='Date 02')),
                ('date_03', models.DateField(blank=True, db_index=True, help_text='idx', null=True, verbose_name='Date 03')),
                ('date_04', models.DateField(blank=True, db_index=True, help_text='idx', null=True, verbose_name='Date 04')),
                ('date_05', models.DateField(blank=True, db_index=True, help_text='idx', null=True, verbose_name='Date 05')),
                ('date_06', models.DateField(blank=True, null=True, verbose_name='Date 06')),
                ('date_07', models.DateField(blank=True, null=True, verbose_name='Date 07')),
                ('date_08', models.DateField(blank=True, null=True, verbose_name='Date 08')),
                ('date_09', models.DateField(blank=True, null=True, verbose_name='Date 09')),
                ('date_10', models.DateField(blank=True, null=True, verbose_name='Date 10')),
                ('datetime_01', models.DateTimeField(blank=True, db_index=True, help_text='idx', null=True, verbose_name='DateTime 01')),
                ('datetime_02', models.DateTimeField(blank=True, db_index=True, help_text='idx', null=True, verbose_name='DateTime 02')),
                ('datetime_03', models.DateTimeField(blank=True, db_index=True, help_text='idx', null=True, verbose_name='DateTime 03')),
                ('datetime_04', models.DateTimeField(blank=True, db_index=True, help_text='idx', null=True, verbose_name='DateTime 04')),
                ('datetime_05', models.DateTimeField(blank=True, db_index=True, help_text='idx', null=True, verbose_name='DateTime 05')),
                ('datetime_06', models.DateTimeField(blank=True, null=True, verbose_name='DateTime 06')),
                ('datetime_07', models.DateTimeField(blank=True, null=True, verbose_name='DateTime 07')),
                ('datetime_08', models.DateTimeField(blank=True, null=True, verbose_name='DateTime 08')),
                ('datetime_09', models.DateTimeField(blank=True, null=True, verbose_name='DateTime 09')),
                ('datetime_10', models.DateTimeField(blank=True, null=True, verbose_name='DateTime 10')),
                ('int_01', models.BigIntegerField(blank=True, db_index=True, help_text='idx', null=True, verbose_name='Int 01')),
                ('int_02', models.BigIntegerField(blank=True, db_index=True, help_text='idx', null=True, verbose_name='Int 02')),
                ('int_03', models.BigIntegerField(blank=True, null=True, verbose_name='Int 03')),
                ('int_04', models.BigIntegerField(blank=True, null=True, verbose_name='Int 04')),
                ('int_05', models.BigIntegerField(blank=True, null=True, verbose_name='Int 05')),
                ('int_06', models.BigIntegerField(blank=True, null=True, verbose_name='Int 06')),
                ('int_07', models.BigIntegerField(blank=True, null=True, verbose_name='Int 07')),
                ('int_08', models.BigIntegerField(blank=True, null=True, verbose_name='Int 08')),
                ('int_09', models.BigIntegerField(blank=True, null=True, verbose_name='Int 09')),
                ('int_10', models.BigIntegerField(blank=True, null=True, verbose_name='Int 10')),
                ('float_01', models.DecimalField(blank=True, db_index=True, decimal_places=4, help_text='idx', max_digits=16, null=True, verbose_name='Float 01')),
                ('float_02', models.DecimalField(blank=True, db_index=True, decimal_places=4, help_text='idx', max_digits=16, null=True, verbose_name='Float 02')),
                ('float_03', models.DecimalField(blank=True, decimal_places=4, max_digits=16, null=True, verbose_name='Float 03')),
                ('float_04', models.DecimalField(blank=True, decimal_places=4, max_digits=16, null=True, verbose_name='Float 04')),
                ('float_05', models.DecimalField(blank=True, decimal_places=4, max_digits=16, null=True, verbose_name='Float 05')),
                ('float_06', models.DecimalField(blank=True, decimal_places=4, max_digits=16, null=True, verbose_name='Float 06')),
                ('float_07', models.DecimalField(blank=True, decimal_places=4, max_digits=16, null=True, verbose_name='Float 07')),
                ('float_08', models.DecimalField(blank=True, decimal_places=4, max_digits=16, null=True, verbose_name='Float 08')),
                ('float_09', models.DecimalField(blank=True, decimal_places=4, max_digits=16, null=True, verbose_name='Float 09')),
                ('float_10', models.DecimalField(blank=True, decimal_places=4, max_digits=16, null=True, verbose_name='Float 10')),
                ('text_01', models.TextField(blank=True, null=True, verbose_name='Text_01')),
            ],
            options={
                'verbose_name': '04.表单数据表',
                'verbose_name_plural': '04.表单数据表',
                'db_table': 'formtemplate_formdata',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='FormTemplate',
            fields=[
                ('id', utility.db_fields.TableNamePKField(blank=True, default=None, editable=False, max_length=64, primary_key=True, serialize=False)),
                ('sys_id', models.IntegerField(db_index=True, default=1, verbose_name='系统ID')),
                ('org_id', models.IntegerField(db_index=True, default=1, verbose_name='组织ID')),
                ('biz_id', models.IntegerField(db_index=True, default=1, verbose_name='业务ID')),
                ('src_id', models.IntegerField(db_index=True, default=1, verbose_name='数据源ID')),
                ('fenlei', models.CharField(blank=True, db_index=True, help_text='分类ID', max_length=64, null=True, verbose_name='分类ID')),
                ('api_version', models.CharField(blank=True, default='v1', help_text='接口版本', max_length=128, verbose_name='接口版本')),
                ('api_name', models.CharField(blank=True, default='formdata', help_text='接口名称(去掉/api/v1/和末尾/)', max_length=128, verbose_name='接口名称')),
                ('create_time', models.DateTimeField(auto_now_add=True, verbose_name='创建时间')),
                ('title', models.CharField(help_text='模板标题', max_length=127, verbose_name='模板标题')),
                ('form_type', models.IntegerField(choices=[(1, '单行表单'), (2, '多行表单'), (3, '富文本')], default=1, verbose_name='表单类型')),
                ('sort_num', models.PositiveIntegerField(default=1, help_text='序号', verbose_name='序号')),
                ('keyword', models.CharField(blank=True, db_index=True, help_text='关键字', max_length=255, null=True, verbose_name='关键字')),
                ('remark', models.CharField(blank=True, help_text='备注', max_length=1023, null=True, verbose_name='备注')),
                ('table_lines', models.TextField(blank=True, help_text='多行表单行头(用JSON字符串存储)', null=True, verbose_name='多行表单行头')),
                ('code', models.TextField(blank=True, help_text='代码', null=True, verbose_name='代码')),
                ('photo', models.TextField(blank=True, help_text='截图', null=True, verbose_name='截图')),
                ('need_login', models.BooleanField(default=True, help_text='需登陆', verbose_name='需登陆')),
                ('parent', models.ForeignKey(blank=True, help_text='父级模板', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='children', to='formtemplate.formtemplate')),
            ],
            options={
                'verbose_name': '01.模板',
                'verbose_name_plural': '01.模板',
                'ordering': ['sort_num'],
            },
        ),
        migrations.CreateModel(
            name='FormFields',
            fields=[
                ('id', utility.db_fields.TableNamePKField(blank=True, default=None, editable=False, max_length=64, primary_key=True, serialize=False)),
                ('sys_id', models.IntegerField(db_index=True, default=1, verbose_name='系统ID')),
                ('org_id', models.IntegerField(db_index=True, default=1, verbose_name='组织ID')),
                ('biz_id', models.IntegerField(db_index=True, default=1, verbose_name='业务ID')),
                ('src_id', models.IntegerField(db_index=True, default=1, verbose_name='数据源ID')),
                ('col_title', models.CharField(help_text='字段含义', max_length=256, verbose_name='字段含义')),
                ('alias', models.CharField(blank=True, default='', help_text='别名', max_length=256, verbose_name='别名')),
                ('col_name', models.CharField(help_text='数据库字段名', max_length=255, verbose_name='数据库字段名')),
                ('in_filter', models.BooleanField(default=False, help_text='可过滤', verbose_name='可过滤')),
                ('is_required', models.BooleanField(blank=True, default=False, help_text='必填项', null=True, verbose_name='必填项')),
                ('widget', models.CharField(help_text='控件类型', max_length=16, verbose_name='控件类型')),
                ('widget_attr', models.CharField(help_text='控件属性', max_length=255, verbose_name='控件属性')),
                ('verify_exp', models.CharField(help_text='校验表达式', max_length=255, verbose_name='校验表达式')),
                ('local_data_source', models.TextField(blank=True, help_text='字段内数据定义，每行一个选项', null=True, verbose_name='字段内数据定义')),
                ('sort_num', models.PositiveIntegerField(default=1, help_text='序号', verbose_name='序号')),
                ('width', models.IntegerField(blank=True, default=0, help_text='宽度', null=True, verbose_name='宽度')),
                ('data', models.TextField(blank=True, help_text='Data', null=True, verbose_name='Data')),
                ('related_template', models.ForeignKey(blank=True, help_text='数据ID关联模版', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to='formtemplate.formtemplate', verbose_name='数据ID关联模版')),
                ('template', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='fields', to='formtemplate.formtemplate', verbose_name='模版')),
            ],
            options={
                'verbose_name': '02.模板字段',
                'verbose_name_plural': '02.模板字段',
            },
        ),
        migrations.CreateModel(
            name='FormDataReportConf',
            fields=[
                ('id', utility.db_fields.TableNamePKField(blank=True, default=None, editable=False, max_length=64, primary_key=True, serialize=False)),
                ('sys_id', models.IntegerField(db_index=True, default=1, verbose_name='系统ID')),
                ('org_id', models.IntegerField(db_index=True, default=1, verbose_name='组织ID')),
                ('biz_id', models.IntegerField(db_index=True, default=1, verbose_name='业务ID')),
                ('src_id', models.IntegerField(db_index=True, default=1, verbose_name='数据源ID')),
                ('report_id', models.IntegerField(db_index=True, default=1, unique=True, verbose_name='报表ID')),
                ('report_name', models.CharField(blank=True, db_index=True, help_text='报表名称', max_length=31, null=True, verbose_name='报表名称')),
                ('report_remark', models.TextField(blank=True, help_text='报表说明', null=True, verbose_name='报表说明')),
                ('arguments', models.TextField(blank=True, help_text='参数定义', null=True, verbose_name='参数定义')),
                ('data_struct', models.TextField(blank=True, help_text='数据定义', null=True, verbose_name='数据定义')),
                ('charts_struct', models.TextField(blank=True, help_text='图表定义', null=True, verbose_name='图表定义')),
                ('form_template', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='formtemplate.formtemplate')),
            ],
            options={
                'verbose_name': '05.表单数据报表',
                'verbose_name_plural': '05.表单数据报表',
            },
        ),
    ]
